<!doctype html>
<html>
    <head>
        <title>Tabela</title>
        <meta charset="utf-8">
        
        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        
        <!-- Meta tag responsiva-->
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        

    </head>
    <body>
        <div class="container">
            <h1>Nota dos alunos</h1>
        </div>
        
        
        <section>
        	<div class="container">
		      	<h2>Média dos alunos</h2>
				<table class="table js-tabela">
					<thead>
						<tr>
							<th>Nome</th>
							<th>Nota 1</th>
							<th>Nota 2</th>
							<th>Nota 3</th>
							<th>Nota 4</th>
							<th>Média</th>
						</tr>
					</thead>
					<tbody>
						<tr class="aluno" >
							<td class="aluno-nome">Gertrude</td>
							<td class="aluno-n1">10</td>
							<td class="aluno-n2">8.5</td>
							<td class="aluno-n3">9</td>
							<td class="aluno-n4">7.5</td>	
							<td class="aluno-m"></td>
						</tr>

						<tr class="aluno" >
							<td class="aluno-nome">Rey</td>
							<td class="aluno-n1">5</td>
							<td class="aluno-n2">8.5</td>
							<td class="aluno-n3">6.5</td>
							<td class="aluno-n4">7.5</td>
							<td class="aluno-m"></td>
						</tr>

						<tr class="aluno" >
							<td class="aluno-nome">Jessilda</td>
							<td class="aluno-n1">8</td>
							<td class="aluno-n2">8.5</td>
							<td class="aluno-n3">7</td>
							<td class="aluno-n4">7.5</td>
							<td class="aluno-m"></td>
						</tr>

						<tr class="aluno">
							<td class="aluno-nome">Lindóia</td>
							<td class="aluno-n1">6.5</td>
							<td class="aluno-n2">8.5</td>
							<td class="aluno-n3">10</td>
							<td class="aluno-n4">7.5</td>
							<td class="aluno-m"></td>
						</tr>
						<tr class="aluno" >
							<td class="aluno-nome">Creysson</td>
							<td class="aluno-n1">10</td>
							<td class="aluno-n2">9.5</td>
							<td class="aluno-n3">10</td>
							<td class="aluno-n4">8.5</td>
							<td class="aluno-m"></td>
						</tr>
					</tbody>
				</table>
	        	
        	</div>	
        </section>

        <script>
            
            (function(){ //Criando função anonima
                
                //Criando uma variável que se referirá a todas as tr's do html
                //Com querySelectorAll selecionamos todas as classes .aluno nas tr's
                var trs = document.querySelectorAll('.js-tabela tbody .aluno');
                
                //Função que irá pegar as notas dentro das tr's do loop
                function pegaNota(td){
                    return parseFloat(td.textContent);
                }
                
                //Variável responsável por controlar o loop while
                var x = 0;
                
                //Loop que percorrerá por todas as tr's do código, se guiando pelo indice x++
                while(trs[x]){
                    //criando variável que receberá o valor de trs[e sua indice];
                    var linhaAluno = trs[x];
                    console.log(linhaAluno);
                    
                    //Criando variáveis que serão responsáveis pelas notas e média mais abaixo
                    var n1, n2, n3, n4, media;
                    
                    //criando variáveis que percorrerá por toda as td's dentro de uma tr específica do loop
                    var tds = linhaAluno.querySelectorAll('td');
                    console.log(tds);
                    
                    //colocando o valor das tds[1 a 4] dentro das variáveis
                    //Função pegaNota é responsável apenas por converter os valores do HTML em números, visto que de primeira são pegos como string
                    n1 = pegaNota(tds[1]);
                    n2 = pegaNota(tds[2]);
                    n3 = pegaNota(tds[3]);
                    n4 = pegaNota(tds[4]);
                    
                    //Variável media receberá o valor retornado da função calcularMedia(n1,n2,n3,n4)
                    media = calcularMedia(n1, n2, n3, n4);
                    function calcularMedia(){                    
                        var total = 0; //variável que receberá o valor dos parâmetros passados
                        var qtd = arguments.length; //variável que irá informar a quantidade, se baseando nos parâmetros
                        var x = 0; //variável para controle de loop
                        
                        //loop. Enquanto arguments[x] for igual a número, ele se repetirá.
                        while(typeof arguments[x] === 'number'){
                            total += arguments[x];//Variável total = total + arguments[x]- para somar o valor das variáveis n1, n2, n3, n4
                            x++ //Incremento de x;
                        }
                        return total / qtd; //Retornando o valor total das somas dividido pela quantidade de números passados, neste caso 4 números
                    }

                    //escrevendo no td .aluno-m dentro da tr selecionada no loop
                    linhaAluno.querySelector('.aluno-m').textContent = media;
                    
                    x++;//incremento de x, para que uma nova tr seja selecionada no loop e ele se repita
                }
            })()
            
            
        </script>
        
    </body>
</html>